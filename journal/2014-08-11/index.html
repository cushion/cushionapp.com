

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>

    <title>Cushion</title>

    <meta name='description' content='Cushion is an app to provide better insight into your freelance life.'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>

    <link rel='icon' type='image/png' href='/assets/images/favicon.png'>
    <link rel='shortcut icon' type='image/png' href='/assets/images/favicon.png'>

    <link href='/assets/styles/screen.css' rel='stylesheet'>

    <script>
  (function() {
  var config = {
  kitId: 'jpp2iwq',
  scriptTimeout: 3000
  };
  var h=document.getElementsByTagName("html")[0];h.className+=" wf-loading";var t=setTimeout(function(){h.className=h.className.replace(/(\s|^)wf-loading(\s|$)/g," ");h.className+=" wf-inactive"},config.scriptTimeout);var tk=document.createElement("script"),d=false;tk.src='//use.typekit.net/'+config.kitId+'.js';tk.type="text/javascript";tk.async="true";tk.onload=tk.onreadystatechange=function(){var a=this.readyState;if(d||a&&a!="complete"&&a!="loaded")return;d=true;clearTimeout(t);try{Typekit.load(config)}catch(b){}};var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(tk,s)
  })();
</script>

    <script type="text/javascript">
window.analytics=window.analytics||[],window.analytics.methods=["identify","group","track","page","pageview","alias","ready","on","once","off","trackLink","trackForm","trackClick","trackSubmit"],window.analytics.factory=function(t){return function(){var a=Array.prototype.slice.call(arguments);return a.unshift(t),window.analytics.push(a),window.analytics}};for(var i=0;i<window.analytics.methods.length;i++){var key=window.analytics.methods[i];window.analytics[key]=window.analytics.factory(key)}window.analytics.load=function(t){if(!document.getElementById("analytics-js")){var a=document.createElement("script");a.type="text/javascript",a.id="analytics-js",a.async=!0,a.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.io/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n)}},window.analytics.SNIPPET_VERSION="2.0.9",
window.analytics.load("lvwwqqgyp6");
window.analytics.page();
</script>

  </head>

  <body>
    

    <div class='wrapper outer-container'>
      <div class='inner-container'>
        <header class='main-header'>
          <h1 class='logo'>
            <a href='/'>Cushion</a>
          </h1>
          <h2 class='tagline'>Peace of mind for freelancers</h2>

          <nav class='main-nav'>
            <ul class='nav-list'>
            
              
            
              
              <li class='nav-item'>
                <a class='nav-link' href='/journal'>Journal</a>
              </li>
              
            
              
              <li class='nav-item'>
                <a class='nav-link' href='/expenses'>Expenses</a>
              </li>
              
            
              
              <li class='nav-item'>
                <a class='nav-link' href='/changelog'>Changelog</a>
              </li>
              
            
            </ul>
          </nav>
        </header>

        
<main class='main-content'>
  <article class='journal-article article'>
    <h3 class='article-title'>
      <a href='/journal/2014-08-11'>2014-08-11</a>
    </h3>
    <div class='article-copy'>
      <p>This last week, I focused primarily on the Cushion backend. In working locally on the app, I realized that it was becoming sluggish—especially on pages with a lot of content. I’ve been building this app with progress in mind, so I haven’t been as considerate as I should be. I query the database far too often and calculate the results in Ruby when it could all be done in the database. Because of this, performance issues are apparent.</p>

<p>For example, a single request to retrieve a list of projects uses a single query for the projects, but then three additional queries for each project to grab the sum of its invoices. With my current personal data, this resulted in nearly 150 queries just to pull down my projects! Not good.</p>

<p>I knew this would happen when I wrote the code because, at the time, I just needed it to work. I’m being a responsible dev and using test-driven development for the backend, so in order for the tests to pass, they just need the correct result. Now that I’m further along, however, I also need the code to perform well. Luckily, I can go back and fine-tune the code, knowing that my tests are in place to double-check that it still works.</p>

<p>After getting up to speed with PostgreSQL, I realized just how much I could do in the database rather than in Ruby—apparently, much more than I imagined. I started by focusing on those invoices sums—paid income, unpaid income, and relative estimated income. The first two are straightforward—just paid invoices and unpaid invoices—but the last one is trickier.</p>

<p>Every project has an estimated income, which is a ballpark amount that this project could potentially bring in. It’s not a guarantee that you’ll reach that amount, nor is it a guarantee that it will <em>only</em> bring in that amount. It’s just a figure to give you an idea. With this figure, however, we can do some interesting things, like seeing how close or far off you were.</p>

<p>If we take the estimated income for a project and subtract the sum of its invoices, we can see the actual income relative to the estimated amount. As you’re working on the project, this can be useful for seeing how much is potentially remaining, if it’s capped-off at that amount. Or, if you’re working hourly without a cap, you  can see how much more you’ve made than originally anticipated. Hopefully, you fall in the latter end of this example.</p>

<p><img src="/assets/2014-08-11-client-budget.png" alt="2014-08-11-client-budget"> </p>

<p>I wrapped up projects and moved up the chain to clients. For clients, I have these sums of income as well, but on a wider scale, combining the sums of each client’s projects. This is useful in seeing which clients bring in the most (in case you need to spread out your income streams) and which clients owe you the most (revealing a red flag going forward).</p>

<p>We also have a lot of data to play with in regards to scheduling. Since every project has both estimated and actual start dates and end dates, I’ve been able reveal projects that start late or drag on too long. This is useful enough on the project level, but if we take a step back and group the projects by client, we can learn a lot about client tendencies.</p>

<p><img src="/assets/2014-08-11-client-schedule.png" alt="2014-08-11-client-schedule"> </p>

<p>Now, instead of sums, we can calculate averages. The three main columns represent the average duration, delay and drag of clients. With them, we can expose a lot. If a client consistently feeds you only small scope projects, you can know with confidence whether you can fit them in an open slot in your schedule. On the cautionary side, we can use average delay and drag to question whether you should still work with this client or just account for the delay and drag when planning the next gig with them.</p>

<p><img src="/assets/2014-08-11-tooltips.png" alt="2014-08-11-tooltips"> </p>

<p>I also improved the schedule tooltip to provide written details of what you’re looking at rather than forcing you to do the math—you can now point to a specific segment of a bar and see what it represents. For clients and projects, these segments include the delay, drag, duration and estimated duration.</p>

<p>Under invoices, using the dates assigned to each (issued, due, and paid), the segments represent how early an invoice was paid, how late an invoice was paid (more realistic), how long an invoice took to get paid, and how long until an invoice is due.</p>

<p>With these new tooltips in place, I feel like I’m going in a really good direction—taking useful data and making it easily accessible. Being able to see the data in table form is easy, but I’d rather provide the ability to interact with data in context.</p>

    </div>
  </article>
</main>


        <footer class='main-footer'>
          Follow <a class='link' href='http://twitter.com/cushionapp'>@cushionapp</a> on Twitter
        </footer>
      </div>
    </div>

    
  </body>
</html>

